<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Peta Jakarta">
    <meta name="author" content="Peta Jakarta">
    <meta name="twitter:widgets:csp" content="on">

    <title>Peta Jakarta &middot; Banjir</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="/banjir/assets/img/petajakarta_icon_32x32.png">

    <!-- Fonts from Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,900' rel='stylesheet' type='text/css'>

    <!-- Site stylesheet -->
    <link href="/banjir/css/application.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a href="/banjir/en/"><img src="/banjir/img/petajakarta.png" width="252" height="45" alt=""/></a>
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/banjir/en/">Home</a></li>
            <li><a href="/banjir/en/map">Map</a></li>
            <li><a href="/banjir/en/data">Data</a></li>
            <li class="active"><a href="/banjir/en/analytics">Analytics</a></li>
            <li><a href="/banjir/in/analytics">[Bahasa Indonesia]</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container top-navbar-padding">

        <h1>Analytics</h1>
        <h3>Flood reports from past 24 hours</h3>
        <div id=image>
        </div>

        <div class="row">
          <div class="col-sm-6">
            <p class="text-left">All reports by district</p>
            <div id=static_map></div>
          </div>
          <div class="col-sm-6">
            <p>Reports by hour</p>
            <canvas id="myChart" width="500" height="500"></canvas>
          </div>
        </div>
        <div class="row" style="margin-top:15px;">
          <div class="col-sm-6">
            <p>Reports by city</p>
            <!--<p class = lead>Jakarta Barat: 23 reports<BR>
                Jakarta Pusat: 32 reports<BR>
                Jakarta Seleta: 45 reports<BR>
                Jakarta Timur: 12 reports<BR>
                Jakarta Utara: 45 reports<BR>
            </p>-->
            <canvas id="barchart" width="500" height="500"></canvas>
            <script>
            var data2 = {
              labels: ["Utara", "Timur", "Pusat", "Selatan", "Barat"],
              datasets: [
                  {
                      label: "My First dataset",
                      fillColor: "rgba(93, 160, 240, 0.9)",
                      strokeColor: "rgba(220,220,220,0.8)",
                      highlightFill: "rgba(220,220,220,0.75)",
                      highlightStroke: "rgba(220,220,220,1)",
                      data: [65, 59, 80, 81, 56]
                  }
              ]
          };

          </script>
          <p>
            Total confirmed reports: 102<BR>
            Total unconfirmed reports: 543
          </p>
          </div>
          <div class="col-sm-6">
            <p class="text-left">Live Stream</p>
            <a class="twitter-timeline"  href="https://twitter.com/petajkt" data-widget-id="534916767819124736">Tweets by @petajkt</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>
        </div>
    </div>

    <!-- Page footer -->
    <div class="container" id="page-foot">
      <hr>
      <div class="row centered">
        <p class="centered">PetaJakarta.org &copy; 2014 SMART Infrastructure Facility, University of Wollongong</p>
      </div>
    </div>

    <!-- Site JavaScript -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <<script src="/banjir/js/application.min.js"></script>
    <script src="/banjir/js/analytics.js"></script>
    <script>
    var ctx = document.getElementById("myChart").getContext("2d");

    var data = {
    labels: ["18:00", "19:00", "20:00", "21:00", "22:00", "23:00", "00:00, 01:00", "02:00", "03:00", "04:00", "05:00", "06:00"],
    datasets: [
        {
            label: "My First dataset",
            fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: [65, 59, 80, 81, 56, 55, 40, 65, 59, 80, 81, 56, 55, 40]
        },
        {
            label: "My Second dataset",
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
            data: [28, 48, 40, 19, 86, 27, 90, 65, 59, 80, 81, 56, 55, 40]
        }
    ]
};


    var myLineChart = new Chart(ctx).Line(data, {});

    var ctx2 = document.getElementById("barchart").getContext("2d");
    var myBarChart = new Chart(ctx2).Bar(data2,{});

    </script>

    <!-- Google analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46996603-1', 'petajakarta.org');
      ga('send', 'pageview');
    </script>

    <!-- Video resize -->
    <script>
      'use strict';

      $(function() {
          // Figure out and save aspect ratio for each video
          $('iframe[src^="//www.youtube.com"]').each(function() {
              $(this).data('aspectRatio', this.height / this.width)
                     .removeAttr('height')
                     .removeAttr('width');
          });

          // When the window is resized
          $(window).resize(function() {
              // Resize all videos according to their own aspect ratio
              $('iframe[src^="//www.youtube.com"]').each(function() {
                  var $this = $(this);
                  var newWidth = $this.parent().width();
                  $this.width(newWidth)
                     .height(newWidth * $this.data('aspectRatio'));
              });
          }).resize();
      });
    </script>
  </body>
</html>
